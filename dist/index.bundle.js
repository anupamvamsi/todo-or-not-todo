(()=>{"use strict";var t={864:(t,e,o)=>{o.r(e)},311:(t,e,o)=>{o.r(e)},807:(t,e,o)=>{o.r(e)},203:(t,e,o)=>{o.r(e)},729:(t,e,o)=>{o.r(e)}},e={};function o(s){var d=e[s];if(void 0!==d)return d.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,o),i.exports}o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{class t{static content=document.querySelector("#content");static getElementOfSelector(t){return document.querySelector(t)}static getHomeNumItemsElement(){return t.getSidebarHomeList().firstElementChild}static getNumItemsElement(e){return"Home"===e.title?t.getHomeNumItemsElement():t.getSidebarListElement(e).firstElementChild}static getSidebarHomeList(){return document.querySelector(".sidebar-items>li>a")}static getSidebarListElements(){return document.querySelectorAll(".sidebar-todo-lists>li")}static getSidebarListsContent(){const e=t.getSidebarListElements(),o=[];return e.forEach((t=>o.push(t.textContent))),o}static getSidebarListElement(e){if("Home"===e.title)return this.getSidebarHomeList();let o;return t.getSidebarListElements().forEach((t=>{t.firstChild.textContent===e.title&&(o=t)})),o}}class e{constructor(){}static createElementAndAddTextContent(t,e){let o=document.createElement(t);return o.textContent=e,o}static addMultipleClasses(t,...e){return e.forEach((e=>{t.classList.add(e)})),t}static createEleAndAddClasses(t,...o){let s=document.createElement(t);return s=e.addMultipleClasses(s,...o),s}static createElementWTCAndClasses(t,o,...s){let d=e.createElementAndAddTextContent(t,o);return d=e.addMultipleClasses(d,...s),d}static createEleAndAddAttributes(t,...e){let o=document.createElement(t);return e.forEach((t=>{o[t[0]]=t[1]})),o}static appendChildren(t,...e){e.forEach((e=>{t.appendChild(e)}))}static setMultipleAttributes(t,e){Object.keys(e).forEach((o=>{t.setAttribute(o,e[o])}))}}class s{constructor(t,e,o,s,d="Home",i=!1){this.title=t,this.description=e,this.dueDate=o,this.priority=s,this.parentList=d||"Home",this.isDone=i}changeItemStatus(){this.isDone=!this.isDone}changeItemPriority(t){this.priority=t}}class d{constructor(t,e){this.title=t,this.description=e,this.children=[]}}class i{static todoItems=[];static todoLists=[];constructor(){}static getToDoItemIdx(t){return i.todoItems.indexOf(t)}static getToDoListIdx(t){return i.todoLists.indexOf(t)}static removeToDoItem(t){const e=i.getToDoItemIdx(t);i.todoItems.splice(e,1)}static removeToDoItemFromToDoList(t){const e=i.getToDoList(t.parentList),o=i.getToDoListIdx(e),s=i.todoLists[o].children.indexOf(t);i.todoLists[o].children.splice(s,1)}static getToDoList(t){let e;return i.getToDoListTitles().includes(t)&&(e=i.todoLists.filter((e=>e.title===t))[0]),e}static getToDoListTitles(){let t=[];return i.todoLists.forEach((e=>{t.push(e.title)})),t}static addChildToList(t,e){i.getToDoList(t).children.push(e)}static addItemToParentList(t){i.isAListTitle(t.parentList)||i.createToDoList(t.parentList,""),i.addChildToList(t.parentList,t)}static createToDoItem(t,e,o,d,n,r){const l=new s(t,e,o,d,n,r);i.todoItems.push(l),i.addItemToParentList(l);const c=i.getToDoList(l.parentList);return a.updateNumItemsOfListInSidebar(c,i.todoItems),l}static isAListTitle(t){return!!i.getToDoListTitles().includes(t)||(console.log(`${t} doesn't exist!`),!1)}static createToDoList(e,o){let s;return i.isAListTitle(e)?console.log(`${e} already exists`):(console.log(`Creating ${e} ToDoList...`),s=new d(e,o),i.todoLists.push(s),console.log("Todo lists:",i.todoLists),"Home"===e?t.getSidebarHomeList().addEventListener("click",(function(){a.displayToDoList(s,i.todoItems)})):a.addToDoListToSidebar(s,i.todoItems)),s}}class n{static createFormHead(t){const o=e.createElementWTCAndClasses("h3","Add new todo","form-head");t.appendChild(o)}static createFormTitle(t){const o=e.createElementWTCAndClasses("label","Title","form-title-label");o.setAttribute("for","add-title");const s=e.createEleAndAddClasses("input","form-title-inp");s.id="add-title",s.maxlength=30,s.required=!0,s.title="Todo title",e.appendChildren(t,o,s)}static createFormDesc(t){const o=e.createElementWTCAndClasses("label","Description (Optional)","form-desc-label");o.setAttribute("for","add-desc");const s=e.createEleAndAddClasses("textarea","form-desc-inp");s.id="add-desc",s.rows=8,s.cols=25,s.maxlength=200,s.title="To do description (optional)",e.appendChildren(t,o,s)}static createParentListField(o){const s=e.createElementWTCAndClasses("label","Add to list","form-list-label");s.setAttribute("for","add-list");const d=e.createEleAndAddClasses("input","form-list-inp");d.id="add-list",d.value=t.getElementOfSelector(".todo-list-title").textContent,d.maxlength=15,d.title="Parent Todo List",e.appendChildren(o,s,d)}static createDatePicker(){const t=e.createElementWTCAndClasses("label","Due date","form-date-label");t.setAttribute("for","add-date");const o=e.createEleAndAddClasses("input","form-date-inp");o.id="add-date",o.type="date",o.required=!0,o.title="Due date";const s=e.createEleAndAddClasses("div","form-date-container");return e.appendChildren(s,t,o),s}static createPriorityPicker(){const t=e.createElementWTCAndClasses("label","Priority","form-priority-label");t.setAttribute("for","add-priority");const o=e.createEleAndAddAttributes("select",["id","add-priority"],["title","Priority"],["required",!0]);for(let t=1;t<5;t++){let s=e.createEleAndAddAttributes("option",["value",t]);s.textContent=t,o.appendChild(s)}o.classList.add("todo-priority"),o.classList.add("p"+o.value);let s="p"+o.value;o.addEventListener("change",(function(){o.classList.remove(s),o.classList.add("p"+o.value),s="p"+o.value}));const d=e.createEleAndAddClasses("div","form-priority-container");return e.appendChildren(d,t,o),d}static createDoneCheckbox(){const t=e.createElementWTCAndClasses("label","Done?","form-done-label");t.setAttribute("for","add-done");const o=e.createEleAndAddAttributes("input",["id","add-done"],["type","checkbox"],["name","isDone"],["title","To do item done?"]),s=e.createEleAndAddClasses("div","form-done-container");return e.appendChildren(s,t,o),s}static createFormSubmit(){return e.createElementWTCAndClasses("button","Create","form-submit")}static createFormCancel(){const t=e.createElementWTCAndClasses("button","Cancel","form-cancel");return t.type="button",t}static createAddToDoForm(){const t=e.createEleAndAddClasses("form","form-todo-add");t.action="",t.method="",n.createFormHead(t),n.createFormTitle(t),n.createParentListField(t);const o=n.createDatePicker(),s=n.createPriorityPicker(),d=n.createDoneCheckbox(),i=e.createEleAndAddClasses("div","form-date-and-priority");e.appendChildren(i,o,s,d),t.appendChild(i);const a=n.createFormSubmit(t),r=n.createFormCancel(t),l=e.createEleAndAddClasses("div","form-buttons");return e.appendChildren(l,a,r),t.appendChild(l),t}}class a{static attachEventListenerSidebarList(t,e,o){t.addEventListener("click",(function(){a.displayToDoList(e,o)}))}static attachEventListenerToDoItem(t,e,o,s,d,n){e.addEventListener("change",(function(){t.changeItemStatus()})),s.addEventListener("change",(function(){t.dueDate=s.value})),d.addEventListener("change",(function(){const e="p"+t.priority;d.classList.remove(e),t.changeItemPriority(d.value),d.classList.add("p"+d.value)})),n.addEventListener("click",(function(){n.parentNode.parentNode.remove(),i.removeToDoItem(t),i.removeToDoItemFromToDoList(t),a.updateNumItemsOfListInSidebar(i.getToDoList(t.parentList),i.todoItems)}))}static removeEventListenerAddToDo(t){t.removeEventListener("click",a.addNewToDo)}static submitAddToDoForm(e){e.preventDefault();const o=t.getElementOfSelector("#add-title"),s=t.getElementOfSelector("#add-date"),d=t.getElementOfSelector("#add-priority"),n=t.getElementOfSelector("#add-list"),r=t.getElementOfSelector("#add-done").checked;if(o.checkValidity()?s.checkValidity()||s.reportValidity():o.reportValidity(),o.checkValidity()&&s.checkValidity()){i.createToDoItem(o.value,"",s.value,d.value,n.value,r);const t=document.querySelector(".todo-list-title").textContent;a.displayToDoList(i.getToDoList(t),i.todoItems)}}static cancelAddToDoForm(e){const o=t.getElementOfSelector(".add-todo-form-container"),s=a.constructAddToDoItem();o.parentNode.appendChild(s),o.parentNode.removeChild(o)}static addNewToDo(e){const o=t.getElementOfSelector(".add-todo-container");o.textContent="";const s=n.createAddToDoForm();o.appendChild(s),o.classList.remove("add-todo-container"),o.classList.add("add-todo-form-container"),a.removeEventListenerAddToDo(o),o.scrollIntoView(),t.getElementOfSelector(".form-submit").addEventListener("click",a.submitAddToDoForm),t.getElementOfSelector(".form-cancel").addEventListener("click",a.cancelAddToDoForm)}static attachEventListenerAddToDo(t){t.addEventListener("click",a.addNewToDo)}static updateNumItemsOfListInSidebar(o,s){const d=t.getSidebarHomeList("Home"),i=t.getSidebarListElement(o);let n=t.getNumItemsElement(o),a=t.getHomeNumItemsElement();const r=o.children.length,l=s.length;a||(a=e.createElementAndAddTextContent("span",l),a.classList.add("num-todo-items"),d.appendChild(a)),n||"Home"===o.title?(n.textContent=r,a.textContent=l):(n=e.createElementAndAddTextContent("span",r),n.classList.add("num-todo-items"),i.appendChild(n))}static addToDoListToSidebar(o,s){let d;if(!t.getSidebarListsContent().includes(o.title)&&"Home"!=o.title){const t=document.querySelector(".sidebar-todo-lists");d=e.createElementAndAddTextContent("li",o.title),t.appendChild(d),a.updateNumItemsOfListInSidebar(o,s)}return a.attachEventListenerSidebarList(d,o,s),d}static constructPriorityElement(t){const o=e.createEleAndAddAttributes("select",["title","Priority"],["required",!0]);for(let s=1;s<5;s++){let d=e.createEleAndAddAttributes("option",["value",s]);d.textContent=s,s===Number(t.priority)&&(d.selected=!0),o.appendChild(d)}return o.classList.add("todo-priority"),o.classList.add("p"+o.value),o}static constructToDoItem(t){const o=e.createEleAndAddAttributes("input",["type","checkbox"],["name","isDone"],["title","To do item done?"]);t.isDone&&o.setAttribute("checked",!0);const s=e.createElementWTCAndClasses("h3",t.title,"todo-title"),d=e.createEleAndAddAttributes("input",["type","date"],["value",t.dueDate]);d.classList.add("todo-due");const i=a.constructPriorityElement(t),n=e.createEleAndAddClasses("div","todo-info");e.appendChildren(n,o,s);const r=e.createElementWTCAndClasses("span","Remove","todo-remove"),l=e.createEleAndAddClasses("div","todo-manip");e.appendChildren(l,d,i,r);const c=e.createEleAndAddClasses("div","todo-item");return e.appendChildren(c,n,l),a.attachEventListenerToDoItem(t,o,s,d,i,r),c}static constructAddToDoItem(){const t=e.createElementWTCAndClasses("p","+","add-todo-plus"),o=e.createElementWTCAndClasses("h3","Add item","add-todo-txt"),s=e.createEleAndAddClasses("div","add-todo-container");return e.appendChildren(s,t,o),a.attachEventListenerAddToDo(s),s}static constructToDoList(t,o){const s=e.createElementWTCAndClasses("h2",t.title,"todo-list-title"),d=e.createEleAndAddClasses("div",".todo-list-title-container");e.appendChildren(d,s);let i=document.querySelector(".todo-list");i?i.textContent="":i=e.createEleAndAddClasses("div","todo-list"),e.appendChildren(i,d);const n=e.createEleAndAddClasses("div","todo-items");let r;return r="Home"===t.title?o:t.children,r.forEach((t=>{n.appendChild(a.constructToDoItem(t))})),n.appendChild(a.constructAddToDoItem()),i.appendChild(n),i}static displayToDoList(e,o){const s=a.constructToDoList(e,o);t.content.appendChild(s)}}o(864),o(203),o(807),o(729),o(311),i.createToDoList("Home","A list of all your tasks"),i.createToDoList("Chores","A list of all your tasks"),i.createToDoList("Scooby","A list of all your tasks"),i.createToDoList("Main","A list of all your tasks"),i.createToDoList("Flutes","A list of all your tasks"),i.createToDoItem("First","blah ","2020-04-12","1","",!0),i.createToDoItem("Premier","blah ","2020-04-18","2","Scooby",!1),i.createToDoItem("Second","blah blah","2020-04-23","4","Chores",!1),i.createToDoItem("Deuxieme","blah ","2020-04-29","3","Home",!0),a.displayToDoList(i.getToDoList("Home"),i.todoItems),a.constructAddToDoItem()})()})();